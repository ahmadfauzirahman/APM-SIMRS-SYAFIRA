<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>NobleUI Responsive Bootstrap 4 Dashboard Template</title>
	<!-- core:css -->
	<link rel="stylesheet" href="../../../assets/vendors/core/core.css">
	<!-- endinject -->
	<!-- plugin css for this page -->
	<link rel="stylesheet" href="../../../assets/vendors/datatables.net-bs4/dataTables.bootstrap4.css">
	<!-- end plugin css for this page -->
	<!-- inject:css -->
	<link rel="stylesheet" href="../../../assets/fonts/feather-font/css/iconfont.css">
	<link rel="stylesheet" href="../../../assets/vendors/flag-icon-css/css/flag-icon.min.css">
	<!-- endinject -->
	<!-- Layout styles -->
	<link rel="stylesheet" href="../../../assets/css/demo_5/style.css">
	<link rel="stylesheet" href="toastr.min.css">
	<link rel="stylesheet" href="nprogress.css">
	<!-- End layout styles -->
	<link rel="shortcut icon" href="../../../assets/images/favicon.png" />
	<script src="sweetalert.min.js"></script>
	<script src="nprogress.js"></script>
	<script languange="JavaScript">
		if (typeof module === 'object') { window.module = module; module = undefined; }
	</script>

	<script>
		var os = require('os');

		var interfaces = os.networkInterfaces();
		var addresses = [];
		for (var k in interfaces) {
			for (var k2 in interfaces[k]) {
				var address = interfaces[k][k2];
				if (address.family === 'IPv4' && !address.internal) {
					addresses.push(address.address);
				}
			}
		}

		console.log(addresses);
	</script>
</head>

<body>
	<div class="main-wrapper">

		<!-- partial:../../partials/_navbar.html -->
		<div class="horizontal-menu">
			<nav class="navbar top-navbar">
				<div class="container">
					<div class="navbar-content">
						<a href="#" class="navbar-brand">
							SIMRS<span>Tracer</span>
						</a>
						<form class="search-form">
							<div class="input-group">
								<div class="input-group-prepend">
									<div class="input-group-text">
										<i data-feather="search"></i>
									</div>
								</div>
								<input type="text" class="form-control" id="navbarForm" placeholder="Search here...">
							</div>
						</form>
						<ul class="navbar-nav">
							<li class="nav-item dropdown">
								<a class="nav-link dropdown-toggle" href="#" id="languageDropdown" role="button"
									data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
									<i class="flag-icon flag-icon-us mt-1" title="us"></i> <span
										class="font-weight-medium ml-1 mr-1">English</span>
								</a>
								<div class="dropdown-menu" aria-labelledby="languageDropdown">
									<a href="javascript:;" class="dropdown-item py-2"><i class="flag-icon flag-icon-us"
											title="us" id="us"></i> <span class="ml-1"> English </span></a>
									<a href="javascript:;" class="dropdown-item py-2"><i class="flag-icon flag-icon-fr"
											title="fr" id="fr"></i> <span class="ml-1"> French </span></a>
									<a href="javascript:;" class="dropdown-item py-2"><i class="flag-icon flag-icon-de"
											title="de" id="de"></i> <span class="ml-1"> German </span></a>
									<a href="javascript:;" class="dropdown-item py-2"><i class="flag-icon flag-icon-pt"
											title="pt" id="pt"></i> <span class="ml-1"> Portuguese </span></a>
									<a href="javascript:;" class="dropdown-item py-2"><i class="flag-icon flag-icon-es"
											title="es" id="es"></i> <span class="ml-1"> Spanish </span></a>
								</div>
							</li>
							<li class="nav-item dropdown nav-apps">
								<a class="nav-link dropdown-toggle" href="#" id="appsDropdown" role="button"
									data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
									<i data-feather="grid"></i>
								</a>
								<div class="dropdown-menu" aria-labelledby="appsDropdown">
									<div class="dropdown-header d-flex align-items-center justify-content-between">
										<p class="mb-0 font-weight-medium">Web Apps</p>
										<a href="javascript:;" class="text-muted">Edit</a>
									</div>
									<div class="dropdown-body">
										<div class="d-flex align-items-center apps">
											<a href="../../pages/apps/chat.html"><i data-feather="message-square"
													class="icon-lg"></i>
												<p>Chat</p>
											</a>
											<a href="../../pages/apps/calendar.html"><i data-feather="calendar"
													class="icon-lg"></i>
												<p>Calendar</p>
											</a>
											<a href="../../pages/email/inbox.html"><i data-feather="mail"
													class="icon-lg"></i>
												<p>Email</p>
											</a>
											<a href="../../pages/general/profile.html"><i data-feather="instagram"
													class="icon-lg"></i>
												<p>Profile</p>
											</a>
										</div>
									</div>
									<div class="dropdown-footer d-flex align-items-center justify-content-center">
										<a href="javascript:;">View all</a>
									</div>
								</div>
							</li>
							<li class="nav-item dropdown nav-messages">
								<a class="nav-link dropdown-toggle" href="#" id="messageDropdown" role="button"
									data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
									<i data-feather="mail"></i>
								</a>
								<div class="dropdown-menu" aria-labelledby="messageDropdown">
									<div class="dropdown-header d-flex align-items-center justify-content-between">
										<p class="mb-0 font-weight-medium">9 New Messages</p>
										<a href="javascript:;" class="text-muted">Clear all</a>
									</div>
									<div class="dropdown-body">
										<a href="javascript:;" class="dropdown-item">
											<div class="figure">
												<img src="https://via.placeholder.com/30x30" alt="userr">
											</div>
											<div class="content">
												<div class="d-flex justify-content-between align-items-center">
													<p>Leonardo Payne</p>
													<p class="sub-text text-muted">2 min ago</p>
												</div>
												<p class="sub-text text-muted">Project status</p>
											</div>
										</a>
										<a href="javascript:;" class="dropdown-item">
											<div class="figure">
												<img src="https://via.placeholder.com/30x30" alt="userr">
											</div>
											<div class="content">
												<div class="d-flex justify-content-between align-items-center">
													<p>Carl Henson</p>
													<p class="sub-text text-muted">30 min ago</p>
												</div>
												<p class="sub-text text-muted">Client meeting</p>
											</div>
										</a>
										<a href="javascript:;" class="dropdown-item">
											<div class="figure">
												<img src="https://via.placeholder.com/30x30" alt="userr">
											</div>
											<div class="content">
												<div class="d-flex justify-content-between align-items-center">
													<p>Jensen Combs</p>
													<p class="sub-text text-muted">1 hrs ago</p>
												</div>
												<p class="sub-text text-muted">Project updates</p>
											</div>
										</a>
										<a href="javascript:;" class="dropdown-item">
											<div class="figure">
												<img src="https://via.placeholder.com/30x30" alt="userr">
											</div>
											<div class="content">
												<div class="d-flex justify-content-between align-items-center">
													<p>Amiah Burton</p>
													<p class="sub-text text-muted">2 hrs ago</p>
												</div>
												<p class="sub-text text-muted">Project deadline</p>
											</div>
										</a>
										<a href="javascript:;" class="dropdown-item">
											<div class="figure">
												<img src="https://via.placeholder.com/30x30" alt="userr">
											</div>
											<div class="content">
												<div class="d-flex justify-content-between align-items-center">
													<p>Yaretzi Mayo</p>
													<p class="sub-text text-muted">5 hr ago</p>
												</div>
												<p class="sub-text text-muted">New record</p>
											</div>
										</a>
									</div>
									<div class="dropdown-footer d-flex align-items-center justify-content-center">
										<a href="javascript:;">View all</a>
									</div>
								</div>
							</li>
							<li class="nav-item dropdown nav-notifications">
								<a class="nav-link dropdown-toggle" href="#" id="notificationDropdown" role="button"
									data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
									<i data-feather="bell"></i>
									<div class="indicator">
										<div class="circle"></div>
									</div>
								</a>
								<div class="dropdown-menu" aria-labelledby="notificationDropdown">
									<div class="dropdown-header d-flex align-items-center justify-content-between">
										<p class="mb-0 font-weight-medium">6 New Notifications</p>
										<a href="javascript:;" class="text-muted">Clear all</a>
									</div>
									<div class="dropdown-body">
										<a href="javascript:;" class="dropdown-item">
											<div class="icon">
												<i data-feather="user-plus"></i>
											</div>
											<div class="content">
												<p>New customer registered</p>
												<p class="sub-text text-muted">2 sec ago</p>
											</div>
										</a>
										<a href="javascript:;" class="dropdown-item">
											<div class="icon">
												<i data-feather="gift"></i>
											</div>
											<div class="content">
												<p>New Order Recieved</p>
												<p class="sub-text text-muted">30 min ago</p>
											</div>
										</a>
										<a href="javascript:;" class="dropdown-item">
											<div class="icon">
												<i data-feather="alert-circle"></i>
											</div>
											<div class="content">
												<p>Server Limit Reached!</p>
												<p class="sub-text text-muted">1 hrs ago</p>
											</div>
										</a>
										<a href="javascript:;" class="dropdown-item">
											<div class="icon">
												<i data-feather="layers"></i>
											</div>
											<div class="content">
												<p>Apps are ready for update</p>
												<p class="sub-text text-muted">5 hrs ago</p>
											</div>
										</a>
										<a href="javascript:;" class="dropdown-item">
											<div class="icon">
												<i data-feather="download"></i>
											</div>
											<div class="content">
												<p>Download completed</p>
												<p class="sub-text text-muted">6 hrs ago</p>
											</div>
										</a>
									</div>
									<div class="dropdown-footer d-flex align-items-center justify-content-center">
										<a href="javascript:;">View all</a>
									</div>
								</div>
							</li>
							<li class="nav-item dropdown nav-profile">
								<a class="nav-link dropdown-toggle" href="#" id="profileDropdown" role="button"
									data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
									<img src="https://via.placeholder.com/30x30" alt="profile">
								</a>
								<div class="dropdown-menu" aria-labelledby="profileDropdown">
									<div class="dropdown-header d-flex flex-column align-items-center">
										<div class="figure mb-3">
											<img src="https://via.placeholder.com/80x80" alt="">
										</div>
										<div class="info text-center">
											<p class="name font-weight-bold mb-0">Amiah Burton</p>
											<p class="email text-muted mb-3">amiahburton@gmail.com</p>
										</div>
									</div>
									<div class="dropdown-body">
										<ul class="profile-nav p-0 pt-3">
											<li class="nav-item">
												<a href="../../pages/general/profile.html" class="nav-link">
													<i data-feather="user"></i>
													<span>Profile</span>
												</a>
											</li>
											<li class="nav-item">
												<a href="javascript:;" class="nav-link">
													<i data-feather="edit"></i>
													<span>Edit Profile</span>
												</a>
											</li>
											<li class="nav-item">
												<a href="javascript:;" onclick="exitFullscreen()" class="nav-link">
													<i data-feather="repeat"></i>
													<span>Screen Mode</span>
												</a>
											</li>
											<li class="nav-item">
												<a href="javascript:;" onclick="window.close();return false;"
													class="nav-link">
													<i data-feather="log-out"></i>
													<span>Keluar</span>
												</a>
											</li>
										</ul>
									</div>
								</div>
							</li>
						</ul>
						<button class="navbar-toggler navbar-toggler-right d-lg-none align-self-center" type="button"
							data-toggle="horizontal-menu-toggle">
							<i data-feather="menu"></i>
						</button>
					</div>
				</div>
			</nav>
			<nav class="bottom-navbar">
				<div class="container">
					<ul class="nav page-navigation">
						<li class="nav-item">
							<a class="nav-link" href="../../dashboard-one.html">
								<i class="link-icon" data-feather="box"></i>
								<span class="menu-title">Dashboard</span>
							</a>
						</li>
						<li class="nav-item">
							<a href="#" class="nav-link">
								<i class="link-icon" data-feather="mail"></i>
								<span class="menu-title">Apps</span>
								<i class="link-arrow"></i>
							</a>
							<div class="submenu">
								<ul class="submenu-item">
									<li class="category-heading">Email</li>
									<li class="nav-item"><a class="nav-link"
											href="../../pages/email/inbox.html">Inbox</a></li>
									<li class="nav-item"><a class="nav-link" href="../../pages/email/read.html">Read</a>
									</li>
									<li class="nav-item"><a class="nav-link"
											href="../../pages/email/compose.html">Compose</a></li>
									<li class="category-heading">Other
									<li>
									<li class="nav-item"><a class="nav-link" href="../../pages/apps/chat.html">Chat</a>
									</li>
									<li class="nav-item"><a class="nav-link"
											href="../../pages/apps/calendar.html">Calendar</a></li>
								</ul>
							</div>
						</li>
						<li class="nav-item mega-menu">
							<a href="#" class="nav-link">
								<i class="link-icon" data-feather="feather"></i>
								<span class="menu-title">UI Kit</span>
								<i class="link-arrow"></i>
							</a>
							<div class="submenu">
								<div class="col-group-wrapper row">
									<div class="col-group col-md-9">
										<div class="row">
											<div class="col-12">
												<p class="category-heading">Basic</p>
												<div class="submenu-item">
													<div class="row">
														<div class="col-md-4">
															<ul>
																<li class="nav-item"><a class="nav-link"
																		href="../../pages/ui-components/alerts.html">Alerts</a>
																</li>
																<li class="nav-item"><a class="nav-link"
																		href="../../pages/ui-components/badges.html">Badges</a>
																</li>
																<li class="nav-item"><a class="nav-link"
																		href="../../pages/ui-components/breadcrumbs.html">Breadcrumbs</a>
																</li>
																<li class="nav-item"><a class="nav-link"
																		href="../../pages/ui-components/buttons.html">Buttons</a>
																</li>
																<li class="nav-item"><a class="nav-link"
																		href="../../pages/ui-components/button-group.html">Buttn
																		Group</a></li>
																<li class="nav-item"><a class="nav-link"
																		href="../../pages/ui-components/cards.html">Cards</a>
																</li>
																<li class="nav-item"><a class="nav-link"
																		href="../../pages/ui-components/carousel.html">Carousel</a>
																</li>
															</ul>
														</div>
														<div class="col-md-4">
															<ul>
																<li class="nav-item"><a class="nav-link"
																		href="../../pages/ui-components/collapse.html">Collapse</a>
																</li>
																<li class="nav-item"><a class="nav-link"
																		href="../../pages/ui-components/dropdowns.html">Dropdowns</a>
																</li>
																<li class="nav-item"><a class="nav-link"
																		href="../../pages/ui-components/list-group.html">List
																		group</a></li>
																<li class="nav-item"><a class="nav-link"
																		href="../../pages/ui-components/media-object.html">Media
																		object</a></li>
																<li class="nav-item"><a class="nav-link"
																		href="../../pages/ui-components/modal.html">Modal</a>
																</li>
																<li class="nav-item"><a class="nav-link"
																		href="../../pages/ui-components/navs.html">Navs</a>
																</li>
																<li class="nav-item"><a class="nav-link"
																		href="../../pages/ui-components/navbar.html">Navbar</a>
																</li>
															</ul>
														</div>
														<div class="col-md-4">
															<ul>
																<li class="nav-item"><a class="nav-link"
																		href="../../pages/ui-components/pagination.html">Pagination</a>
																</li>
																<li class="nav-item"><a class="nav-link"
																		href="../../pages/ui-components/popover.html">Popovers</a>
																</li>
																<li class="nav-item"><a class="nav-link"
																		href="../../pages/ui-components/progress.html">Progress</a>
																</li>
																<li class="nav-item"><a class="nav-link"
																		href="../../pages/ui-components/scrollbar.html">Scrollbar</a>
																</li>
																<li class="nav-item"><a class="nav-link"
																		href="../../pages/ui-components/scrollspy.html">Scrollspy</a>
																</li>
																<li class="nav-item"><a class="nav-link"
																		href="../../pages/ui-components/spinners.html">Spinners</a>
																</li>
																<li class="nav-item"><a class="nav-link"
																		href="../../pages/ui-components/tooltips.html">Tooltips</a>
																</li>
															</ul>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>
									<div class="col-group col-md-3">
										<div class="row">
											<div class="col-12">
												<p class="category-heading">Advanced</p>
												<div class="submenu-item">
													<div class="row">
														<div class="col-md-12">
															<ul>
																<li class="nav-item"><a class="nav-link"
																		href="../../pages/advanced-ui/cropper.html">Cropper</a>
																</li>
																<li class="nav-item"><a class="nav-link"
																		href="../../pages/advanced-ui/owl-carousel.html">Owl
																		carousel</a></li>
																<li class="nav-item"><a class="nav-link"
																		href="../../pages/advanced-ui/sweet-alert.html">Sweetalert</a>
																</li>
															</ul>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</li>
						<li class="nav-item">
							<a href="#" class="nav-link">
								<i class="link-icon" data-feather="inbox"></i>
								<span class="menu-title">Forms</span>
								<i class="link-arrow"></i>
							</a>
							<div class="submenu">
								<ul class="submenu-item">
									<li class="nav-item"><a class="nav-link"
											href="../../pages/forms/basic-elements.html">Basic Elements</a></li>
									<li class="nav-item"><a class="nav-link"
											href="../../pages/forms/advanced-elements.html">Advanced Elements</a></li>
									<li class="nav-item"><a class="nav-link"
											href="../../pages/forms/editors.html">Editors</a></li>
									<li class="nav-item"><a class="nav-link"
											href="../../pages/forms/wizard.html">Wizard</a></li>
								</ul>
							</div>
						</li>
						<li class="nav-item">
							<a href="#" class="nav-link">
								<i class="link-icon" data-feather="pie-chart"></i>
								<span class="menu-title">Data</span>
								<i class="link-arrow"></i>
							</a>
							<div class="submenu">
								<div class="row">
									<div class="col-md-6">
										<ul class="submenu-item pr-0">
											<li class="category-heading">Charts</li>
											<li class="nav-item"><a class="nav-link"
													href="../../pages/charts/apex.html">Apex</a></li>
											<li class="nav-item"><a class="nav-link"
													href="../../pages/charts/chartjs.html">ChartJs</a></li>
											<li class="nav-item"><a class="nav-link"
													href="../../pages/charts/flot.html">Float</a></li>
											<li class="nav-item"><a class="nav-link"
													href="../../pages/charts/morrisjs.html">Morris</a></li>
											<li class="nav-item"><a class="nav-link"
													href="../../pages/charts/peity.html">Peity</a></li>
											<li class="nav-item"><a class="nav-link"
													href="../../pages/charts/sparkline.html">Sparkline</a></li>
										</ul>
									</div>
									<div class="col-md-6">
										<ul class="submenu-item pl-0">
											<li class="category-heading">Tables</li>
											<li class="nav-item"><a class="nav-link"
													href="../../pages/tables/basic-table.html">Basic Tables</a></li>
											<li class="nav-item"><a class="nav-link"
													href="../../pages/tables/data-table.html">Data Table</a></li>
										</ul>
									</div>
								</div>
							</div>
						</li>
						<li class="nav-item">
							<a href="#" class="nav-link">
								<i class="link-icon" data-feather="smile"></i>
								<span class="menu-title">Icons</span>
								<i class="link-arrow"></i>
							</a>
							<div class="submenu">
								<ul class="submenu-item">
									<li class="nav-item"><a class="nav-link"
											href="../../pages/icons/feather-icons.html">Feather Icons</a></li>
									<li class="nav-item"><a class="nav-link"
											href="../../pages/icons/flag-icons.html">Flag Icons</a></li>
									<li class="nav-item"><a class="nav-link" href="../../pages/icons/mdi-icons.html">Mdi
											Icons</a></li>
								</ul>
							</div>
						</li>
						<li class="nav-item mega-menu">
							<a href="#" class="nav-link">
								<i class="link-icon" data-feather="book"></i>
								<span class="menu-title">Sample Pages</span>
								<i class="link-arrow"></i>
							</a>
							<div class="submenu">
								<div class="col-group-wrapper row">
									<div class="col-group col-md-6">
										<p class="category-heading">Special Pages</p>
										<div class="submenu-item">
											<div class="row">
												<div class="col-md-6">
													<ul>
														<li class="nav-item"><a class="nav-link"
																href="../../pages/general/blank-page.html">Blank
																page</a></li>
														<li class="nav-item"><a class="nav-link"
																href="../../pages/general/faq.html">Faq</a></li>
														<li class="nav-item"><a class="nav-link"
																href="../../pages/general/invoice.html">Invoice</a></li>
													</ul>
												</div>
												<div class="col-md-6">
													<ul>
														<li class="nav-item"><a class="nav-link"
																href="../../pages/general/profile.html">Profile</a></li>
														<li class="nav-item"><a class="nav-link"
																href="../../pages/general/pricing.html">Pricing</a></li>
														<li class="nav-item"><a class="nav-link"
																href="../../pages/general/timeline.html">Timeline</a>
														</li>
													</ul>
												</div>
											</div>
										</div>
									</div>
									<div class="col-group col-md-3">
										<p class="category-heading">Auth Pages</p>
										<ul class="submenu-item">
											<li class="nav-item"><a class="nav-link"
													href="../../pages/auth/login.html">Login</a></li>
											<li class="nav-item"><a class="nav-link"
													href="../../pages/auth/register.html">Register</a></li>
										</ul>
									</div>
									<div class="col-group col-md-3">
										<p class="category-heading">Error Pages</p>
										<ul class="submenu-item">
											<li class="nav-item"><a class="nav-link"
													href="../../pages/error/404.html">404</a></li>
											<li class="nav-item"><a class="nav-link"
													href="../../pages/error/500.html">500</a></li>
										</ul>
									</div>
								</div>
							</div>
						</li>
						<li class="nav-item">
							<a href="https://www.nobleui.com/html/documentation/docs.html" target="_blank"
								class="nav-link">
								<i class="link-icon" data-feather="hash"></i>
								<span class="menu-title">Documentation</span></a>
						</li>
					</ul>
				</div>
			</nav>
		</div>
		<!-- partial -->

		<div class="page-wrapper">

			<div class="page-content">

				<nav class="page-breadcrumb">
					<ol class="breadcrumb">
						<li class="breadcrumb-item"><a href="#">Tables</a></li>
						<li class="breadcrumb-item active" aria-current="page">Data Table</li>
					</ol>
				</nav>

				<div class="row">
					<div class="col-md-12 grid-margin stretch-card">
						<div class="card">
							<div class="card-body">
								<h6 class="card-title">Data Pasien Daftar</h6>
								<p class="card-description">Read the <a href="https://datatables.net/" target="_blank">
										Official DataTables Documentation </a>for a full list of instructions and other
									options.</p>
								<div id="_tableTracer" class="table-responsive">
									<table id="dataTableExample_" class="table">
										<thead>
											<tr>
												<th id="ubah">Tgl</th>
												<th>No Daftar</th>
												<th>No. Pasien</th>
												<th>Nama</th>
												<th>Unit</th>
												<th>Penanggung</th>
												<th>L/B</th>
												<th>User</th>
												<th>Loket</th>
												<th></th>
											</tr>
										</thead>
										<tbody>

										</tbody>
									</table>
								</div>
							</div>
						</div>
					</div>
				</div>

			</div>

			<!-- partial:../../partials/_footer.html -->
			<footer class="footer d-flex flex-column flex-md-row align-items-center justify-content-between">
				<p class="text-muted text-center text-md-left">Copyright Â© 2020 <a href="https://www.nobleui.com"
						target="_blank">NobleUI</a>. All rights reserved</p>
				<p class="text-muted text-center text-md-left mb-0 d-none d-md-block">Handcrafted With <i
						class="mb-1 text-primary ml-1 icon-small" data-feather="heart"></i></p>
			</footer>
			<!-- partial -->

		</div>
	</div>

	<!-- core:js -->
	<script src="../../../assets/vendors/core/core.js"></script>
	<!-- endinject -->
	<!-- plugin js for this page -->
	<script src="../../../assets/vendors/datatables.net/jquery.dataTables.js"></script>
	<script src="../../../assets/vendors/datatables.net-bs4/dataTables.bootstrap4.js"></script>
	<!-- end plugin js for this page -->
	<!-- inject:js -->
	<script src="../../../assets/vendors/feather-icons/feather.min.js"></script>
	<script src="../../../assets/js/template.js"></script>
	<!-- endinject -->
	<!-- custom js for this page -->
	<script src="../../../assets/js/data-table.js"></script>
	<script>
		
		const remote = require("electron").remote;
		const electron = require('electron')
		const fs = window.require('fs')
		const path = window.require('path')
		const cmd = window.require('node-cmd')

		var currentLocation = window.location;
		console.log(currentLocation);

		function notifBerhasilCetak() {
			// swal({
			// 	title: "Tercetak!",
			// 	text: "Tracer berhasil Tercetak!",
			// 	icon: "success",
			// 	//timer: 3000
			// });

			toastr.success("Tracer berhasil Tercetak!");
		}

		// $(".cetak").click(
		// 	function () {
		// 		//block of code that runs when the click event triggers
		// 		printing()
		// 		notifBerhasilCetak();
		// 	}
		// );
		function loopPrint(currentPrint) {
			var countCurrent=countCurrentPrint();
			if ((currentPrint == null)|| (countCurrent > 0)) {
				console.log("Tidak print -> "+ countCurrent +"->" +JSON.stringify(currentPrint));
				return true;
			}
			currentPrint_=JSON.stringify(currentPrint);
			printing(currentPrint_, null);
			// console.log("Printing~ ", currentPrint);	
		}
		function tekan(e) {
			var sel= $(e);
			var dataLoket = $(e).data("value");
			// console.log(currentAllData[dataLoket]);
			dataPrint = currentAllData[dataLoket];
			//..
			dataPrint= JSON.stringify(dataPrint);
			printing(dataPrint, sel)
		}

		// function sdkjfhkljsdhfkadshk(e) {
		// 	// $(document).on('click', '.cetak', function (e) {
		// 	printing()
		// 	notifBerhasilCetak();
		// 	// });
		// }

		// var random = Math.random();
		// $("#_tableTracer").load("_tableTracer.html?rand="+ random);

		//PRINTINGG_____________________________________________
		// Importing BrowserWindow from Main 

		//Save the raw output to the filesystem
		const filePath = path.join(__dirname, 'ctktestestes.txt') //or wherever you want to save it
		console.log(filePath);

		function printing(dataPrint,sel) {
			console.log("Ngeprint~~", dataPrint);
			generatingFile(dataPrint);
			dataPrint_=JSON.parse(dataPrint);
			console.log(dataPrint_.nama);
			// console.log("iayakah")
			// return true; //blockingg
			//Create a command to copy the file to the shared printer path (e.g. \\localhost\DPD ). Make sure that var is sanitised first! 
			const command = `COPY /B "${filePath}" "LPT1"`
			// const command = `shutdown -h`
			cmd.get(command, (err, data, stderr) => {
				if (!err) {
					console.log('Success!')
					isMarkPrinted(dataPrint, sel)
				} else {
					console.log(err.message)
				}
			})
		}
		//PRINTINGG END_____________________________________________

		function isMarkPrinted(e,sel){
			if (sel != null) {
				sel.html('&nbsp;&nbsp; <div class="spinner-border spinner-border-sm text-light" role="status"><span class= "sr-only" > Loading...</span ></div > &nbsp;&nbsp;');
			}
			//			
			var random = Math.random();
			isUpdateCetak = true;
			console.log("Mengirim update isCetak~~ ");
			$.ajax({
				// type: 'POST',
				type: 'GET',
				url: "http://localhost/testjson/sendBerhasilCetak.php?id="+12345+"&rand=" + random, //ASLI RUNNING
				dataType: 'json',
				timeout: 21000,
				success: function (response, status) {
					console.log(response)
					//____________________
					var e_ = JSON.parse(e);
					$("." + e_.no_daftar).css("backgroundColor", "yellow")
					console.log("mark-printed")
					notifBerhasilCetak();
				},
				error: function (jqXHR, textStatus, errorThrown) {
					toastr.warning("Gagal update data isCetak" + "-" +textStatus, errorThrown);
				},
				complete: function (e) {
					isUpdateCetak = false;					
					console.log("Berhasil update isCetak~~ ");
					// NProgress.done();
					// NProgress.set(1.0);
					if (sel != null) {
						sel.html('Cetak');
					}
				}
			});
		}

		
			// GENERATE FILE______________________
			function generatingFile(e) {
				var e_=JSON.parse(e);
				var data = '';
				var condensed = String.fromCharCode(27) + String.fromCharCode(33) + String.fromCharCode(4);
				var bold1 = String.fromCharCode(27) + String.fromCharCode(69);
				var bold0 = String.fromCharCode(27) + String.fromCharCode(70);
				var initialized = String.fromCharCode(27) + String.fromCharCode(64);
				var double_h1 = String.fromCharCode(27) + String.fromCharCode(33) + String.fromCharCode(16);
				var double_w1 = String.fromCharCode(27) + String.fromCharCode(33) + String.fromCharCode(33);
				var double_0 = String.fromCharCode(27) + String.fromCharCode(33) + String.fromCharCode(0);

				data += initialized;
				data += double_w1;
				data += "" + bold1 + "NO_RM : " + e_.no_pasien + "("+ e_.jenis_kelamin+")" + "\n" + double_0;
				data += "" + bold1 + e_.nama + bold1 + "\n";
				data += "JENIS KEL :" + e_.jenis_kelamin + " UMUR: " + e_.umur + "\n";
				data += "CARA BAYAR :" + e_.penanggung + "\n";
				data += "" + double_w1 + "" + bold1 + "" + "[ket]" + double_0 + bold0 + "\n";
				data += "[]" + "\n";
				data += "====================================" + "\n";
				data += "\n"; //is daftar mobile
				data += "User : " + "Create_id" + "/" + "[d/m/Y H:i:s]" + "\n \n \n";
				data += "Kunjungan : " + e_.penanggung +"\n"+ "No.Reg : " + e_.no_daftar + " \n\n\n\n";
				data += "____________________________________";

				// const fs = require('fs');
				try { fs.writeFileSync(filePath, data, 'utf-8'); console.log("oke, generated-file") }
				catch (e) { console.log('Failed to save the file !', e); }
			}
		// GENERATE FILE END______________________

			// GENERATE FILE______________________
				function generatingFiletes() {
					var data = '';
					var condensed = String.fromCharCode(27) + String.fromCharCode(33) + String.fromCharCode(4);
					var bold1 = String.fromCharCode(27) + String.fromCharCode(69);
					var bold0 = String.fromCharCode(27) + String.fromCharCode(70);
					var initialized = String.fromCharCode(27) + String.fromCharCode(64);
					var double_h1 = String.fromCharCode(27) + String.fromCharCode(33) + String.fromCharCode(16);
					var double_w1 = String.fromCharCode(27) + String.fromCharCode(33) + String.fromCharCode(33);
					var double_0 = String.fromCharCode(27) + String.fromCharCode(33) + String.fromCharCode(0);

					data += initialized;
					data += double_w1;
					data += "" + bold1 + "NO_RM : " + "[12345]" + "([L])" + "\n" + double_0;
					data += "" + bold1 + "[Ini budi]" + bold1 + "\n";
					data += "JENIS KEL :" + "L" + "UMUR: " + "[20TH]" + "\n";
					data += "CARA BAYAR :" + "[BPJS]" + "\n";
					data += "" + double_w1 + "" + bold1 + "" + "[keterang]" + double_0 + bold0 + "\n";
					data += "[is_sortir]" + "\n";
					data += "====================================" + "\n";
					data += "\n"; //is daftar mobile
					data += "User : " + "Create_id" + "/" + "[d/m/Y H:i:s]" + "\n \n \n";
					data += "Kunjungan : " + "[d/m/Y H:i:s]" + "\n" + " No.Reg : " + "[no_daftar]" + " \n\n\n\n";
					data += "____________________________________";

					// const fs = require('fs');
					try { fs.writeFileSync(filePath, data, 'utf-8'); alert("oke") }
					catch (e) { alert('Failed to save the file !', e); }
				}
		// GENERATE FILE END______________________



		const dirLocal = remote.app;
		console.log(dirLocal.getPath('userData'));
		console.log(dirLocal.getPath('userData'));

		//_________________cek current print di SPOOL
		var dir = "C:\\Windows\\System32\\spool\\PRINTERS";
		function countCurrentPrint(){			
			const countCurrent = fs.readdirSync(dir).length
			return countCurrent;
		}
		// console.log( countCurrentPrint() )
		//_________________cek current print di SPOOL ENDD
			
		function exitFullscreen() {
			if (remote.getCurrentWindow().isFullScreen()) {
				remote.getCurrentWindow().setFullScreen(false);
			} else {
				remote.getCurrentWindow().setFullScreen(true);
			}
		}

	</script>
	<!-- end custom js for this page -->
</body>

<script>
	var currentAllData;
	var isUpdateCetak = false;
	var isReloading = false;
	reloading();
	function reloading() {
		if (isReloading == true || isUpdateCetak ==true) {
			return false;
		}
		//NProgress.set(0.0);
		NProgress.start();
		isReloading = true;
		var random = Math.random();
		$.ajax({
			// type: 'POST',
			type: 'GET',
			url: "http://localhost/testjson/getAll.php?rand=" + random, //ASLI RUNNING
			// data: {
			//     token: localStorage.getItem("userlogin"),
			//     no_mr: datalogindetail.NO_PASIEN
			//     // tgl_lahir:vtgl_lahir
			// },
			dataType: 'json',
			timeout: 21000,
			success: function (response, status) {
				console.log(response)
				var row = '';
				response.all_data.forEach(functionForeach);
				currentAllData = response.all_data;
				currentPrint = response.data_to_print;
				$("#dataTableExample_>tbody").html(row);
				//________________________________________________
				function functionForeach(item, index, arr) {
					var background = "white";
					if (item.cetak == true) {
						background = "yellow";
					}
					// console.log(item.cetak)
					// sum += item;
					// document.getElementById("demo").innerHTML = sum;
					row += 
						'<tr class="' + item.no_daftar + '" style="background-color:' + background + '">' +
						'    <td>' + item.tanggal + '</td>' +
						'    <td>' + item.no_daftar + '</td>' +
						'    <td>' + item.no_pasien + '</td>' +
						'    <td>' + item.nama + '</td>' +
						'    <td>' + item.unit + '</td>' +
						'    <td>' + item.penanggung + '</td>' +
						'    <td>' + item.jenis_kelamin + '</td>' +
						'    <td>' + item.user + '</td>' +
						'    <td>' + item.loket + '</td>' +
						'    <td><button type="button" data-value="' + index + '" onclick="tekan(this)" class="cetak btn btn-primary">Cetak</button></td>' +
						'</tr >';
					// console.log(JSON.stringify(item));
				}
				loopPrint(currentPrint);

				// response.all_data
			},
			error: function (jqXHR, textStatus, errorThrown) {
				toastr.warning("Gagal update data" + "-" + textStatus, errorThrown);
			},
			complete: function (e) {
				isReloading = false;
				NProgress.done();
				// NProgress.set(1.0);
			}
		});
	}
</script>
<script src="toastr.min.js"></script>
<style>
	/* full table */
	.page-wrapper .page-content {
		max-width: 100%;
	}
	/* padding row */
	.table th, .table td {
		padding: 0.325rem 0.9375rem;
	}
</style>
<script>
	document.addEventListener('keydown', function (event) {
			if (event.key === 'd') {
				document.body.style = "color: white; background-color: #111111";
			}
			if (event.key === 'l') {
				document.body.style = '';
			}
		});
</script>
</html>